@page "/booking-report1/{BookingId:int}"  
@using PassportBookingReportDB.DTO
@using PassportBookingReportDB.Services
@rendermode InteractiveServer

@inject IBookingService BookingService

<h3>Booking Details</h3>

@if (booking == null)
{
    <p>Loading booking...</p>
}
else
{
   @*  PARENT - CHILD COMPONENTS 
       The info of the booking details will be passed to the child table - BookingDetailsTable
   *@
  
    <BookingDetailsTable Booking="booking" /> 
}

@code {
    [Parameter] public int BookingId { get; set; }

    private BookingDto booking; // All the info for BookingId 1

    // Use OnParametersSetAsync to handle route parameters
    protected override async Task OnParametersSetAsync()
    {
        booking = await BookingService.GetBookingByIdAsync(BookingId); //1
    }
}
